(()=>{"use strict";const e=document.querySelector("#main"),t=(window.onload=()=>{e?.classList.add("is-visible")},e=>{e=document.querySelector("#"+e);return{classList:e?.classList,offset:e?.getBoundingClientRect().top-e?.clientHeight/2,isShowed:e?.classList.contains("is-visible")??!1}}),l=[t("benefits"),t("tariff"),t("promotion")],o=()=>{const t=window.scrollY;l.forEach(e=>{t>e.offset&&!e.isShowed&&e.classList.add("is-visible")}),t+window.innerHeight>=document.body.scrollHeight&&document.removeEventListener("scroll",o)},s=(document.addEventListener("scroll",o),document.querySelectorAll(".slider__dot")),n=document.querySelector("body").getBoundingClientRect().width,i=document.querySelector(".slider__item").getBoundingClientRect().width+20,r=document.querySelector("#slider"),c=document.defaultView.getComputedStyle(r,"").getPropertyValue("padding-left"),d=c.slice(0,c.length-2),a=(console.log(d),console.log(r.scrollWidth),r.scrollWidth-2*d),u=769<=n?i:n;let m=0;const v=e=>{e.scrollTo(m*u,0)},h=()=>{s.forEach(e=>e.classList.remove("is-active")),document.querySelectorAll(".slider__dot")[m].classList.add("is-active")},f=(document.querySelectorAll("#button-next").forEach(e=>{e.addEventListener("click",()=>{return e=r,(t=e.scrollWidth-e.clientWidth-e.scrollLeft)>u?(m++,v(e)):20<t?(m++,e.scrollTo(e.scrollWidth,0)):(t=e,m=0,t.scrollTo(0,0)),void h();var e,t})}),document.querySelectorAll("#button-prev").forEach(e=>{e.addEventListener("click",()=>{var e=r;0<=(m-1)*u?(m--,v(e)):(e=e,m=3,e.scrollTo(e.scrollWidth- -e.clientWidth,0)),h()})}),s.forEach(l=>{l.addEventListener("click",()=>{var e,t=r;m=0<=(e=+l.id)*u&&e*u<=a?e:e*u<0?0:e-1,v(t),h()})}),n<1200&&r.addEventListener("scroll",()=>{m=Math.round(r.scrollLeft/u),h()}),document.querySelector("#form-order")),p=f.querySelector('input[name="name"]'),L=f.querySelector('input[name="phone"]'),y=f.querySelector('input[name="email"]'),g=f.querySelector('input[name="telegram"]');f.addEventListener("submit",e=>{e.preventDefault(),f.parentElement.classList.remove("is-default"),f.parentElement.classList.remove("is-sent"),f.parentElement.classList.add("is-loading"),fetch("/",{method:"POST",body:JSON.stringify({name:p.value,phone:L.value,email:y.value,telegram:g.value}),headers:{"Content-Type":"application/json"}}).then(()=>{f.parentElement.classList.remove("is-default"),f.parentElement.classList.remove("is-loading"),f.parentElement.classList.add("is-sent")})})})();